import React, { useState } from "react";
import Head from "next/head";
import { AnimatePresence, motion } from "framer-motion";
import TextInput from "../components/TextInput";
import { isEmail, isNumber } from "../components/utils/errorFunctions";
import moment from "moment";
import Select from "../components/Select";
import axios from "axios";
axios.defaults.headers.post["Access-Control-Allow-Origin"] = "*";

const Register = () => {
  const [submitted, setSubmitted] = useState(false);

  const [form, setForm] = useState({
    first_name: "",
    last_name: "",
    gender: "male",
    date_of_birth: "",
    nic: "",
    address: "",
    city: "",
    state: "",
    postal_code: "",
    email: "",
    phone: "",
    education: "",
    occupation: "",
    interests: "",
    country: "Sri Lanka",
    area_of_specialization: "",
    method_of_communication: "phone",
    add_to_whatsapp_group: "no",
  });

  const [error, setError] = useState({
    first_name: "",
    last_name: "",
    nic: "",
    date_of_birth: "",
    address: "",
    city: "",
    state: "",
    postal_code: "",
    email: "",
    phone: "",
    education: "",
    occupation: "",
    interests: "",
    area_of_specialization: "",
  });

  const handleAddToGroup = (e) => {
    let val = "";
    if (form.add_to_whatsapp_group === "no") {
      val = "yes";
    } else {
      val = "no";
    }
    setForm({ ...form, add_to_whatsapp_group: val });
  };

  const handleCountry = (country) => {
    setForm({ ...form, country });
  };

  const handleGender = (e) => {
    setForm({ ...form, gender: e.target.value });
  };

  const handleMethodOfCommunication = (e) => {
    setForm({ ...form, method_of_communication: e.target.value });
  };

  const handleBlur = (e) => {
    const value = form[e];

    if (!value) {
      setError({
        ...error,
        [e]: `${e.split("_").join(" ")} is required`,
      });
    }

    if (e === "email" && form[e]) {
      const { error: err, status } = isEmail(form[e]);
      if (err) {
        setError({ ...error, email: err });
      }
    }
  };

  const handleChange = (e) => {
    setError({ ...error, [e.target.name]: "" });
    if (e.target.name === "date_of_birth") {
      const age = Math.abs(moment(e.target.value).diff(moment(), "years"));

      if (age <= 17) {
        setError({ ...error, date_of_birth: "You must be above 17" });
      }
    }

    if (e.target.name === "phone") {
      const { error: err } = isNumber(e.target.value);
      if (!err) {
        setForm({ ...form, [e.target.name]: e.target.value });
      } else {
        setForm({ ...form, phone: "" });

        setError({
          ...error,
          phone: "Phone number cannot contain text and spaces",
        });
      }

      if (e.target.name === "phone" && e.target.value.trim().length > 14) {
        setError({
          ...error,
          phone: "Invalid phone number ",
        });
      }
    } else {
      setForm({ ...form, [e.target.name]: e.target.value });
    }
  };

  const handleSubmit = (e) => {
    e.preventDefault();
    checkError();
  };

  const checkError = () => {
    let isError = false;

    let err = error;
    const errorKeys = Object.keys(error);

    errorKeys.forEach((field) => {
      if (form[field].trim().length <= 0) {
        const inputTarget = document.getElementById(field);
        inputTarget.scrollIntoView({ behavior: "smooth" });

        err[field] = `${field.split("_").join(" ")} is required`;
      } else {
        err[field] = "";
      }
    });

    setError({ ...err });

    if (form.date_of_birth) {
      const age = Math.abs(moment(form.date_of_birth).diff(moment(), "years"));

      if (age <= 17) {
        const inputTarget = document.getElementById("date_of_birth");
        inputTarget.scrollIntoView({ behavior: "smooth" });
        isError = true;
        setError({ ...error, date_of_birth: "You must be above 17" });
      }
    }

    if (form.email) {
      const { error: err } = isEmail(form.email);
      if (err) {
        const inputTarget = document.getElementById("email");
        inputTarget.scrollIntoView({ behavior: "smooth" });
        isError = true;
        setError({ ...error, email: err });
      } else {
      }
    }

    errorKeys.forEach((field) => {
      if (error[field]) {
        isError = true;
      }
    });

    if (!isError) {
      axios.post(`http://localhost:5000`, form);
      setForm({
        first_name: "",
        last_name: "",
        gender: "male",
        date_of_birth: "",
        nic: "",
        address: "",
        city: "",
        state: "",
        postal_code: "",
        email: "",
        phone: "",
        education: "",
        occupation: "",
        interests: "",
        country: "Sri Lanka",
        area_of_specialization: "",
        method_of_communication: "phone",
        add_to_whatsapp_group: "no",
      });
      setSubmitted(true);
    }
  };

  return (
    <section className="w-full max-w-screen-xl mx-auto p-5">
      <Head>
        <title>Registration | The Open Gate</title>
        <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
      </Head>

      <div className="w-full flex items-center justify-center">
        <svg
          className="w-40 h-40"
          viewBox="0 0 375 375"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <rect width="375" height="375" fill="white" />
          <path
            d="M130.85 191.473C130.458 191.559 130.305 191.671 130.152 191.977L130.017 192.247V205.656V219.065L130.152 219.335C130.314 219.654 130.499 219.776 130.94 219.852C131.353 219.924 135.894 219.893 136.119 219.816C136.515 219.681 136.744 219.425 136.843 219.006C136.929 218.628 136.929 192.684 136.843 192.306C136.744 191.887 136.515 191.631 136.119 191.496C135.885 191.419 131.196 191.397 130.85 191.473Z"
            fill="#181818"
          />
          <path
            d="M87.419 199.514C86.7576 199.595 86.4786 199.775 86.2941 200.225L86.1906 200.481L86.1771 203.978L86.1636 207.478H89.3629H92.5621L92.5486 203.955C92.5306 200.243 92.5351 200.274 92.3192 199.964C92.1797 199.757 92.0357 199.658 91.7477 199.573C91.5407 199.514 91.1897 199.501 89.6104 199.487C88.571 199.483 87.5855 199.492 87.419 199.514Z"
            fill="#181818"
          />
          <path
            d="M161.015 199.672C160.246 199.838 159.908 200.234 159.787 201.107C159.751 201.345 159.737 204.072 159.737 209.751C159.737 215.429 159.751 218.156 159.787 218.395C159.89 219.137 160.169 219.555 160.705 219.767C160.975 219.875 160.979 219.875 162.774 219.875C164.084 219.875 164.624 219.861 164.759 219.821C165.186 219.69 165.407 219.42 165.492 218.93C165.56 218.557 165.56 200.936 165.497 200.589C165.416 200.171 165.281 199.96 165.002 199.82C164.867 199.753 164.624 199.676 164.462 199.649C164.021 199.582 161.353 199.595 161.015 199.672Z"
            fill="#181818"
          />
          <path
            d="M188.796 199.514C188.134 199.595 187.855 199.775 187.671 200.225L187.567 200.481L187.554 203.978L187.54 207.478H190.74H193.939L193.926 203.955C193.908 200.243 193.912 200.274 193.696 199.964C193.557 199.757 193.413 199.658 193.125 199.573C192.918 199.514 192.567 199.501 190.987 199.487C189.948 199.483 188.962 199.492 188.796 199.514Z"
            fill="#181818"
          />
          <path
            d="M289.619 199.636C289.025 199.721 288.746 199.915 288.598 200.36L288.494 200.662L288.481 209.458C288.472 215.524 288.481 218.39 288.517 218.683C288.58 219.259 288.71 219.529 288.998 219.681C289.372 219.884 289.619 219.906 291.419 219.888C293.003 219.875 293.097 219.87 293.322 219.776C293.66 219.641 293.853 219.479 294.006 219.209C294.294 218.705 294.281 219.227 294.267 209.616C294.254 201.458 294.249 200.873 294.177 200.657C294.011 200.176 293.7 199.865 293.223 199.708C293.025 199.645 292.755 199.631 291.374 199.622C290.483 199.618 289.696 199.622 289.619 199.636Z"
            fill="#181818"
          />
          <path
            d="M337.554 199.514C336.893 199.595 336.614 199.775 336.429 200.225L336.326 200.481L336.312 203.978L336.299 207.478H339.498H342.697L342.684 203.955C342.666 200.243 342.67 200.274 342.454 199.964C342.315 199.757 342.171 199.658 341.883 199.573C341.676 199.514 341.325 199.501 339.745 199.487C338.706 199.483 337.721 199.492 337.554 199.514Z"
            fill="#181818"
          />
          <path
            d="M51.2059 249.672C49.8875 249.811 48.7986 250.486 48.1371 251.579C47.9661 251.863 47.7231 252.403 47.6242 252.731L47.5657 252.925H51.7233H55.881L55.8135 252.686C55.458 251.489 54.8326 250.702 53.8156 250.185C52.9742 249.753 52.0878 249.577 51.2059 249.672Z"
            fill="#181818"
          />
          <path
            d="M81.736 249.685C80.3096 249.879 79.0722 250.774 78.4287 252.083C78.0733 252.803 78.0103 253.109 78.0058 254.072C78.0013 254.788 78.0148 254.927 78.1048 255.265C78.4557 256.547 79.2567 257.487 80.4806 258.063C82.3929 258.959 84.6427 258.41 85.8981 256.745C87.8285 254.18 86.5416 250.522 83.4458 249.771C83.0229 249.667 82.1814 249.627 81.736 249.685Z"
            fill="#181818"
          />
          <path
            d="M131.142 249.689C130.364 249.793 129.594 250.112 128.964 250.585C128.537 250.909 128.312 251.156 127.983 251.651C127.484 252.416 127.281 253.105 127.281 254.05C127.281 255.314 127.646 256.205 128.496 257.024C129.086 257.595 129.743 257.937 130.607 258.126C131.133 258.239 132.262 258.234 132.829 258.113C134.112 257.838 135.102 257.087 135.642 255.971C135.916 255.409 136.024 254.932 136.056 254.185C136.128 252.34 135.304 250.886 133.747 250.112C132.991 249.739 131.979 249.572 131.142 249.689Z"
            fill="#181818"
          />
          <path
            d="M199.379 249.672C198.061 249.811 196.972 250.486 196.31 251.579C196.139 251.863 195.896 252.403 195.797 252.731L195.739 252.925H199.897H204.054L203.987 252.686C203.631 251.489 203.006 250.702 201.989 250.185C201.147 249.753 200.261 249.577 199.379 249.672Z"
            fill="#181818"
          />
          <path
            d="M250.63 249.672C249.312 249.811 248.223 250.486 247.561 251.579C247.39 251.863 247.147 252.403 247.048 252.731L246.99 252.925H251.147H255.305L255.238 252.686C254.882 251.489 254.257 250.702 253.24 250.185C252.398 249.753 251.512 249.577 250.63 249.672Z"
            fill="#181818"
          />
          <path
            d="M281.115 249.685C279.689 249.879 278.451 250.774 277.808 252.083C277.452 252.803 277.389 253.109 277.385 254.072C277.38 254.788 277.394 254.927 277.484 255.265C277.835 256.547 278.636 257.487 279.86 258.063C281.772 258.959 284.022 258.41 285.277 256.745C287.207 254.18 285.921 250.522 282.825 249.771C282.402 249.667 281.56 249.627 281.115 249.685Z"
            fill="#181818"
          />
          <path
            d="M310.943 249.685C310.165 249.793 309.463 250.144 308.882 250.711C308.428 251.156 308.126 251.665 307.847 252.466L307.69 252.925H311.51C314.813 252.925 315.335 252.916 315.335 252.862C315.335 252.718 315.047 251.939 314.876 251.615C314.412 250.742 313.49 250.032 312.478 249.775C312.064 249.672 311.344 249.627 310.943 249.685Z"
            fill="#181818"
          />
          <path
            d="M0 187.478V374.955H187.478H374.955V187.478V0H187.478H0V187.478ZM181.902 72.8672C182.028 72.9257 182.145 72.9931 182.163 73.0201C182.195 73.0696 181.983 73.1191 181.731 73.1191C181.547 73.1191 181.336 72.9661 181.336 72.8267C181.336 72.7232 181.632 72.7412 181.902 72.8672ZM225.117 106.596C224.807 109.922 222.633 112.824 219.569 114.007C219.348 114.088 218.723 114.259 218.174 114.385C213.62 115.411 208.977 117 204.104 119.2C203.06 119.668 200.427 120.977 199.357 121.558C196.054 123.344 192.909 125.414 190.857 127.142C190.537 127.412 190.24 127.659 190.191 127.695C190.11 127.754 190.11 127.502 190.123 116.244C190.137 103.469 190.11 104.563 190.429 103.366C191.055 100.994 192.706 98.9426 194.87 97.8267C195.581 97.4622 195.959 97.3362 197.269 97.0077C201.462 95.9683 205.377 94.6409 209.647 92.8141C215.888 90.1368 221.958 86.6091 224.847 83.9723L225.139 83.7023L225.153 94.8929C225.162 102.641 225.149 106.236 225.117 106.596ZM146.243 85.1647C147.422 86.1051 149.105 87.2435 150.913 88.3234C157.483 92.2516 165.933 95.7163 173.038 97.3947C173.529 97.5117 174.105 97.6737 174.316 97.7547C175.122 98.0651 176.012 98.5826 176.678 99.1271C177.07 99.451 177.835 100.234 178.105 100.589C179.117 101.926 179.729 103.483 179.896 105.134C179.932 105.485 179.941 108.905 179.932 116.851L179.918 128.069L179.513 127.722C176.075 124.766 170.469 121.463 164.507 118.88C160.246 117.036 155.841 115.587 151.66 114.655C151.215 114.556 150.675 114.403 150.459 114.318C149.312 113.854 148.371 113.233 147.494 112.361C146.022 110.889 145.136 108.995 144.933 106.884C144.906 106.56 144.888 102.529 144.888 95.1989V83.9993L145.262 84.3368C145.464 84.5212 145.905 84.8947 146.243 85.1647ZM112.334 96.9672C115.168 97.7187 118.943 101.444 121.769 106.281C123.034 108.45 123.803 110.079 125.018 113.166C126.03 115.744 127.164 117.904 128.739 120.253C132.289 125.558 137.271 129.9 142.157 131.97C142.819 132.249 144.132 132.703 144.452 132.762L144.618 132.793L144.488 132.51C143.948 131.313 143.453 130.377 142.738 129.185C141.568 127.232 140.204 125.396 138.769 123.853C137.325 122.291 136.42 121.081 135.813 119.879C134.548 117.387 135.273 116.091 137.801 116.316C139.66 116.482 142.76 117.495 145.743 118.903C150.265 121.04 156.92 125.234 162.19 129.266C168.669 134.224 173.673 139.336 175.9 143.269C178.649 148.124 180.166 155.071 180.166 162.819C180.166 168.282 179.356 173.565 178.105 176.26L177.902 176.701L177.736 176.282C176.566 173.376 173.398 169.546 169.389 166.19C164.889 162.424 159.058 158.797 151.291 154.932C148.142 153.366 145.964 152.371 141.271 150.369C137.19 148.628 135.552 147.89 134.224 147.197C131.551 145.802 129.905 144.596 127.727 142.459C125.265 140.038 123.196 137.504 121.09 134.314C118.795 130.85 116.959 127.191 115.776 123.718C115.294 122.3 115.011 121.27 114.583 119.366C113.4 114.088 112.388 110.138 111.407 106.934C111.092 105.917 111.083 105.89 110.714 105.314C109.751 103.793 109.107 102.403 108.77 101.107C108.567 100.333 108.518 99.4825 108.639 98.9291C108.864 97.9212 109.607 97.2147 110.759 96.9222C111.204 96.8098 111.798 96.8277 112.334 96.9672ZM259.769 97.0122C260.322 97.1967 260.628 97.3767 260.97 97.7142C261.776 98.5196 261.911 99.847 261.353 101.579C260.961 102.808 260.313 104.126 259.463 105.445C259.202 105.85 259.152 105.962 258.882 106.839C257.91 109.985 256.835 114.187 255.674 119.38C255.085 122.017 254.522 123.83 253.6 126.057C250.841 132.73 245.784 139.831 240.753 144.092C239.223 145.388 237.783 146.31 235.511 147.449C233.918 148.245 233.198 148.569 229.279 150.243C224.379 152.34 222.426 153.222 219.515 154.648C216.253 156.246 212.711 158.176 209.548 160.079C202.718 164.183 197.539 168.597 194.398 172.998C193.593 174.127 192.769 175.571 192.49 176.354C192.432 176.521 192.369 176.656 192.355 176.656C192.297 176.656 191.937 175.801 191.703 175.108C190.258 170.851 189.709 163.58 190.362 157.262C190.933 151.696 192.297 146.909 194.33 143.314C196.193 140.015 199.991 135.88 204.959 131.745C210.466 127.16 217.711 122.336 223.475 119.42C225.373 118.462 226.822 117.85 228.717 117.211C230.566 116.59 231.88 116.307 232.924 116.302C234.031 116.302 234.661 116.577 234.931 117.184C235.025 117.387 235.039 117.486 235.034 117.891C235.03 118.489 234.904 118.939 234.499 119.758C233.882 121.022 233.018 122.192 231.421 123.925C229.284 126.251 227.38 129.099 225.967 132.082C225.796 132.447 225.661 132.762 225.675 132.775C225.742 132.838 227.308 132.316 228.222 131.92C230.607 130.886 233.05 129.297 235.385 127.263C236.15 126.602 238.031 124.708 238.71 123.92C241.685 120.473 243.719 117.076 245.41 112.738C246.36 110.3 247.179 108.563 248.263 106.668C251.278 101.413 255.161 97.5792 258.144 96.9178C258.693 96.7963 259.215 96.8278 259.769 97.0122ZM58.0454 190.974V197.467L58.2433 197.057C58.7113 196.103 59.5617 195.509 60.7541 195.302C61.3346 195.203 64.8083 195.235 65.3663 195.347C66.9231 195.653 67.9986 196.382 68.597 197.539C68.8535 198.029 69.0065 198.502 69.128 199.177L69.227 199.717V211.978V224.24H66.5497H63.8724L63.8499 212.383C63.8319 203.055 63.8139 200.49 63.7689 200.364C63.6654 200.067 63.5214 199.901 63.2424 199.762L62.9725 199.627H61.1051H59.2378L58.9678 199.753C58.5268 199.96 58.3063 200.22 58.1399 200.751C58.0769 200.954 58.0679 202.169 58.0589 212.617L58.0454 224.262H55.3681H52.6908V204.374V184.485H55.3681H58.0454V190.974ZM43.1516 189.232V191.415H40.0243H36.897V207.838V224.262H34.2198H31.5425V207.838V191.415L28.4287 191.406L25.3105 191.392L25.297 189.219L25.288 187.05H34.2198H43.1516V189.232ZM138.287 187.154C139.516 187.406 140.321 187.792 140.956 188.427C141.586 189.057 141.946 189.795 142.175 190.942C142.252 191.329 142.256 192.04 142.256 205.656C142.256 219.249 142.252 219.983 142.175 220.37C141.761 222.449 140.704 223.578 138.728 224.055C137.896 224.258 137.577 224.271 133.144 224.253C128.546 224.235 128.658 224.24 127.7 223.938C125.868 223.358 124.852 222.066 124.6 220.01C124.532 219.438 124.532 191.874 124.6 191.302C124.906 188.8 126.363 187.415 129.036 187.095C129.203 187.077 131.277 187.064 133.639 187.073C137.397 187.082 137.981 187.091 138.287 187.154ZM267.225 187.095C268.503 187.235 269.56 187.662 270.28 188.332C270.896 188.899 271.292 189.628 271.544 190.65L271.661 191.122L271.675 194.528L271.693 197.939H268.993H266.293L266.28 195.136C266.262 192.589 266.253 192.315 266.181 192.09C266.073 191.766 265.911 191.559 265.686 191.46C265.321 191.298 264.867 191.271 262.757 191.289C260.952 191.307 260.705 191.316 260.484 191.388C260.133 191.505 259.994 191.617 259.859 191.905L259.742 192.157L259.728 205.562C259.719 217.477 259.728 219.002 259.787 219.24C259.868 219.555 259.958 219.699 260.169 219.839C260.466 220.041 260.538 220.05 262.801 220.068C265.132 220.082 265.389 220.068 265.762 219.866C266.037 219.713 266.176 219.438 266.244 218.907C266.271 218.669 266.289 216.82 266.289 213.904V209.278H264.804H263.319V207.186V205.094H267.504H271.688V212.437C271.688 218.741 271.679 219.848 271.621 220.235C271.265 222.593 269.893 223.907 267.414 224.262C267.148 224.303 265.951 224.325 263.499 224.339C259.796 224.361 258.9 224.334 258.099 224.177C255.877 223.74 254.635 222.399 254.342 220.127C254.284 219.668 254.275 217.855 254.288 205.409L254.297 191.212L254.396 190.794C254.716 189.412 255.238 188.58 256.183 187.936C256.826 187.5 257.807 187.185 258.864 187.082C259.274 187.041 266.824 187.055 267.225 187.095ZM317.351 192.774L317.36 195.239H319.339H321.319V197.422V199.604H319.339H317.36V209.017C317.36 215.492 317.373 218.516 317.409 218.705C317.49 219.182 317.711 219.456 318.12 219.591C318.224 219.623 318.813 219.65 319.803 219.659L321.319 219.681V221.972V224.267L318.836 224.249C316.149 224.231 316.064 224.226 315.164 223.965C313.638 223.524 312.644 222.548 312.19 221.045C311.929 220.181 311.947 220.932 311.929 209.805L311.915 199.604H310.543H309.17L309.179 197.431L309.193 195.262L310.556 195.248L311.915 195.239V192.796C311.915 191.451 311.929 190.335 311.947 190.321C311.96 190.303 313.184 190.294 314.655 190.299L317.337 190.312L317.351 192.774ZM93.84 195.365C95.5274 195.685 96.6388 196.423 97.2552 197.62C97.4757 198.061 97.6062 198.43 97.7457 199.028C97.8402 199.442 97.8402 199.505 97.8537 205.44L97.8717 211.438H92.0176H86.1681V215.069C86.1681 217.427 86.1861 218.795 86.2176 218.97C86.3121 219.528 86.5236 219.78 87.0185 219.933C87.2435 220.001 87.509 220.01 89.3179 220.01C91.5857 220.01 91.7162 219.996 92.0356 219.717C92.3866 219.407 92.4631 218.912 92.4676 216.959V215.848H95.0774H97.6872V217.751C97.6872 219.713 97.6602 220.145 97.5027 220.797C97.1022 222.431 96.1078 223.475 94.4924 223.965C93.5925 224.235 93.6735 224.231 89.6103 224.249C87.1715 224.262 85.7226 224.249 85.4347 224.222C82.8384 223.938 81.43 222.696 81.007 220.302C80.9305 219.852 80.926 219.357 80.926 209.818C80.926 199.222 80.9215 199.487 81.133 198.673C81.358 197.809 81.7135 197.165 82.2759 196.612C83.0589 195.838 84.1568 195.406 85.6956 195.266C85.7946 195.257 87.5585 195.257 89.6103 195.262C93.192 195.271 93.363 195.275 93.84 195.365ZM159.737 196.351L159.742 197.467L159.917 197.116C160.462 196.018 161.353 195.446 162.756 195.28C163.427 195.203 166.428 195.253 166.937 195.347C168.192 195.59 169.011 195.995 169.686 196.715C170.415 197.494 170.788 198.488 170.896 199.969C170.932 200.414 170.941 203.649 170.932 210.246C170.914 220.851 170.932 220.154 170.644 221.112C170.194 222.597 169.231 223.547 167.724 223.983C166.896 224.226 166.743 224.24 164.552 224.24H162.505L162.068 224.118C161.02 223.83 160.3 223.236 159.868 222.309L159.742 222.035L159.737 227.263V232.496H157.06H154.383V213.868V195.239H157.06H159.737V196.351ZM195.217 195.365C196.904 195.685 198.016 196.423 198.632 197.62C198.853 198.061 198.983 198.43 199.123 199.028C199.217 199.442 199.217 199.505 199.231 205.44L199.249 211.438H193.395H187.545V215.069C187.545 217.427 187.563 218.795 187.594 218.97C187.689 219.528 187.9 219.78 188.395 219.933C188.62 220.001 188.886 220.01 190.695 220.01C192.963 220.01 193.093 219.996 193.413 219.717C193.764 219.407 193.84 218.912 193.844 216.959V215.848H196.454H199.064V217.751C199.064 219.713 199.037 220.145 198.88 220.797C198.479 222.431 197.485 223.475 195.869 223.965C194.969 224.235 195.05 224.231 190.987 224.249C188.548 224.262 187.1 224.249 186.812 224.222C184.215 223.938 182.807 222.696 182.384 220.302C182.307 219.852 182.303 219.357 182.303 209.818C182.303 199.222 182.298 199.487 182.51 198.673C182.735 197.809 183.09 197.165 183.653 196.612C184.436 195.838 185.534 195.406 187.073 195.266C187.172 195.257 188.935 195.257 190.987 195.262C194.569 195.271 194.74 195.275 195.217 195.365ZM215.848 196.351L215.852 197.467L216.028 197.116C216.572 196.018 217.463 195.446 218.867 195.28C219.537 195.203 222.539 195.253 223.047 195.347C224.303 195.59 225.122 195.995 225.796 196.715C226.512 197.476 226.89 198.47 227.007 199.892C227.034 200.274 227.052 204.495 227.052 212.365V224.262H224.352H221.652V212.545C221.652 204.855 221.639 200.747 221.607 200.589C221.526 200.171 221.391 199.96 221.112 199.82C220.977 199.753 220.734 199.676 220.572 199.649C220.113 199.577 217.508 199.591 217.148 199.667C216.356 199.838 216.019 200.225 215.897 201.107C215.861 201.35 215.848 204.963 215.848 212.86V224.262H213.17H210.493V209.751V195.239H213.17H215.848V196.351ZM291.329 195.289C292.202 195.397 292.913 195.694 293.417 196.162C293.719 196.445 294.092 196.967 294.195 197.255C294.249 197.404 294.258 197.309 294.276 196.342L294.299 195.262H296.976H299.654L299.667 209.76L299.676 224.262H296.976H294.276V223.173V222.084L294.123 222.395C293.624 223.43 292.715 224.046 291.433 224.217C290.812 224.303 287.482 224.253 286.969 224.154C285.876 223.943 285.07 223.556 284.458 222.948C283.837 222.341 283.482 221.63 283.239 220.527C283.144 220.1 283.144 220.077 283.126 210.133C283.117 202.934 283.126 200.027 283.162 199.658C283.329 198.02 283.954 196.832 285.03 196.112C285.741 195.644 286.573 195.383 287.752 195.271C288.161 195.23 290.965 195.244 291.329 195.289ZM343.975 195.365C345.662 195.685 346.774 196.423 347.39 197.62C347.611 198.061 347.741 198.43 347.881 199.028C347.975 199.442 347.975 199.505 347.989 205.44L348.007 211.438H342.153H336.303V215.069C336.303 217.427 336.321 218.795 336.353 218.97C336.447 219.528 336.659 219.78 337.154 219.933C337.379 220.001 337.644 220.01 339.453 220.01C341.721 220.01 341.851 219.996 342.171 219.717C342.522 219.407 342.598 218.912 342.603 216.959V215.848H345.212H347.822V217.751C347.822 219.713 347.795 220.145 347.638 220.797C347.237 222.431 346.243 223.475 344.627 223.965C343.728 224.235 343.809 224.231 339.745 224.249C337.307 224.262 335.858 224.249 335.57 224.222C332.973 223.938 331.565 222.696 331.142 220.302C331.066 219.852 331.061 219.357 331.061 209.818C331.061 199.222 331.057 199.487 331.268 198.673C331.493 197.809 331.848 197.165 332.411 196.612C333.194 195.838 334.292 195.406 335.831 195.266C335.93 195.257 337.693 195.257 339.745 195.262C343.327 195.271 343.498 195.275 343.975 195.365ZM350.252 237.131V238.346H186.33H22.4082V237.131V235.916H186.33H350.252V237.131ZM98.0022 244.173C98.2856 244.272 98.5241 244.483 98.6591 244.762C99.0416 245.545 98.4746 246.445 97.6017 246.445C97.1382 246.445 96.7783 246.229 96.5443 245.82C96.1168 245.059 96.6883 244.114 97.5792 244.105C97.7052 244.105 97.8942 244.137 98.0022 244.173ZM67.4946 251.957V259.539H66.7747H66.0547V251.957V244.375H66.7747H67.4946V251.957ZM177.151 247.444V250.508L177.583 250.054C178.487 249.091 179.482 248.542 180.611 248.38C181.183 248.295 182.028 248.344 182.519 248.488C183.887 248.893 184.863 249.897 185.196 251.237C185.439 252.2 185.475 252.898 185.475 256.511V259.539H184.733H183.99V256.286C183.99 252.182 183.968 251.894 183.576 251.08C183.248 250.4 182.69 249.946 181.92 249.744C181.493 249.631 180.571 249.645 180.116 249.766C179.063 250.049 178.114 250.85 177.623 251.858C177.209 252.722 177.191 252.929 177.164 256.533L177.142 259.539H176.404H175.666V251.957V244.375H176.408H177.151V247.444ZM266.919 251.957V259.539H266.199H265.479V251.957V244.375H266.199H266.919V251.957ZM297.696 251.957V259.539H296.976H296.256V251.957V244.375H296.976H297.696V251.957ZM26.9528 247.84V250.945H31.385H35.8171V247.84V244.735H36.7171H37.617V252.137V259.539H36.7171H35.8171V255.962V252.385H31.385H26.9528V255.962V259.539H26.0529H25.153V252.137V244.735H26.0529H26.9528V247.84ZM168.692 245.455V246.175H166.397H164.102V252.857V259.539H163.067H162.032V252.857V246.175H159.737H157.442V245.455V244.735H163.067H168.692V245.455ZM226.377 247.84V250.945H230.809H235.241V247.84V244.735H236.141H237.041V252.137V259.539H236.141H235.241V255.962V252.385H230.809H226.377V255.962V259.539H225.477H224.577V252.137V244.735H225.477H226.377V247.84ZM53.0508 248.461C53.8247 248.641 54.4322 248.898 54.9721 249.267C56.466 250.283 57.3479 251.845 57.4469 253.654L57.4739 254.14H52.4433H47.4127L47.4442 254.527C47.5747 256.124 48.4791 257.469 49.8695 258.122C50.9764 258.644 52.4433 258.608 53.6762 258.027C54.4681 257.654 54.9901 257.186 55.5571 256.326C55.7235 256.079 55.863 255.868 55.8675 255.859C55.8765 255.845 57.0599 256.425 57.0959 256.461C57.1049 256.47 57.0149 256.646 56.898 256.848C56.016 258.383 54.7381 259.337 53.0958 259.697C52.6278 259.796 51.4174 259.836 50.8639 259.764C49.9595 259.652 49.1046 259.355 48.4566 258.932C48.0112 258.639 47.2867 257.901 46.9402 257.388C46.2563 256.362 45.9368 255.328 45.9323 254.126C45.9323 252.448 46.4948 251.102 47.6962 249.91C48.5781 249.033 49.487 248.578 50.7334 248.385C51.1924 248.313 52.6098 248.362 53.0508 248.461ZM83.9858 248.511C84.6247 248.673 85.4392 249.06 85.9206 249.424C87.4685 250.594 88.2829 252.187 88.2829 254.045C88.2829 255.688 87.752 256.97 86.5956 258.122C85.4482 259.269 84.1568 259.809 82.5459 259.809C80.953 259.809 79.5941 259.233 78.4422 258.068L78.0688 257.694V260.619V263.544H77.3488H76.6289V256.075V248.605H77.3488H78.0688V249.6V250.594L78.2442 250.373C78.5007 250.05 79.1802 249.415 79.4861 249.213C80.0891 248.812 80.7685 248.542 81.511 248.403C81.772 248.358 82.0914 248.344 82.6584 248.353C83.3603 248.371 83.5043 248.385 83.9858 248.511ZM114.214 248.488C114.943 248.704 115.515 249.055 116.005 249.586C116.604 250.238 116.883 250.909 117.067 252.137C117.126 252.551 117.144 253.208 117.157 256.084L117.18 259.539H116.433H115.686V256.196C115.686 254.302 115.663 252.673 115.641 252.43C115.483 250.949 114.817 250.067 113.616 249.744C113.188 249.631 112.271 249.64 111.803 249.766C110.763 250.049 109.805 250.855 109.319 251.858C108.905 252.722 108.882 252.929 108.86 256.533L108.837 259.539H108.099H107.361V254.072V248.605H108.104H108.846V249.559V250.513L109.08 250.243C109.985 249.213 110.957 248.623 112.145 248.398C112.361 248.358 112.693 248.344 113.143 248.353C113.71 248.367 113.881 248.389 114.214 248.488ZM132.501 248.403C133.666 248.592 134.584 249.073 135.529 249.987C135.79 250.243 136.006 250.45 136.015 250.45C136.02 250.45 136.024 250.036 136.024 249.528V248.605H136.744H137.469L137.451 253.789C137.433 259.449 137.437 259.4 137.167 260.34C136.668 262.082 135.277 263.269 133.239 263.683C132.609 263.814 131.313 263.845 130.598 263.751C128.82 263.517 127.461 262.792 126.66 261.654C126.44 261.344 126.062 260.691 125.99 260.507L125.945 260.394H126.728H127.511L127.758 260.741C128.415 261.672 129.338 262.226 130.557 262.424C131.07 262.509 132.307 262.496 132.811 262.406C133.72 262.239 134.476 261.861 135.061 261.276C135.705 260.633 135.907 260.03 135.979 258.549C136.002 258.09 136.02 257.667 136.024 257.609C136.024 257.519 135.957 257.568 135.583 257.928C134.904 258.576 134.283 258.954 133.401 259.247C131.659 259.823 129.765 259.557 128.177 258.518C127.718 258.216 126.872 257.348 126.606 256.902C126.314 256.412 126.098 255.899 125.963 255.368C125.819 254.824 125.765 253.78 125.85 253.195C125.967 252.394 126.291 251.57 126.755 250.873C127.052 250.432 127.839 249.64 128.271 249.357C129.036 248.848 130.035 248.47 130.872 248.367C131.223 248.322 132.127 248.344 132.501 248.403ZM201.224 248.461C201.998 248.641 202.605 248.898 203.145 249.267C204.639 250.283 205.521 251.845 205.62 253.654L205.647 254.14H200.616H195.586L195.617 254.527C195.748 256.124 196.652 257.469 198.043 258.122C199.15 258.644 200.616 258.608 201.849 258.027C202.641 257.654 203.163 257.186 203.73 256.326C203.897 256.079 204.036 255.868 204.041 255.859C204.05 255.845 205.233 256.425 205.269 256.461C205.278 256.47 205.188 256.646 205.071 256.848C204.189 258.383 202.911 259.337 201.269 259.697C200.801 259.796 199.591 259.836 199.037 259.764C198.133 259.652 197.278 259.355 196.63 258.932C196.184 258.639 195.46 257.901 195.113 257.388C194.429 256.362 194.11 255.328 194.105 254.126C194.105 252.448 194.668 251.102 195.869 249.91C196.751 249.033 197.66 248.578 198.907 248.385C199.366 248.313 200.783 248.362 201.224 248.461ZM252.475 248.461C253.249 248.641 253.856 248.898 254.396 249.267C255.89 250.283 256.772 251.845 256.871 253.654L256.898 254.14H251.867H246.837L246.868 254.527C246.999 256.124 247.903 257.469 249.294 258.122C250.4 258.644 251.867 258.608 253.1 258.027C253.892 257.654 254.414 257.186 254.981 256.326C255.148 256.079 255.287 255.868 255.292 255.859C255.301 255.845 256.484 256.425 256.52 256.461C256.529 256.47 256.439 256.646 256.322 256.848C255.44 258.383 254.162 259.337 252.52 259.697C252.052 259.796 250.841 259.836 250.288 259.764C249.384 259.652 248.529 259.355 247.881 258.932C247.435 258.639 246.711 257.901 246.364 257.388C245.68 256.362 245.361 255.328 245.356 254.126C245.356 252.448 245.919 251.102 247.12 249.91C248.002 249.033 248.911 248.578 250.158 248.385C250.616 248.313 252.034 248.362 252.475 248.461ZM283.365 248.511C284.004 248.673 284.818 249.06 285.3 249.424C286.848 250.594 287.662 252.187 287.662 254.045C287.662 255.688 287.131 256.97 285.975 258.122C284.827 259.269 283.536 259.809 281.925 259.809C280.332 259.809 278.973 259.233 277.821 258.068L277.448 257.694V260.619V263.544H276.728H276.008V256.075V248.605H276.728H277.448V249.6V250.594L277.623 250.373C277.88 250.05 278.559 249.415 278.865 249.213C279.468 248.812 280.148 248.542 280.89 248.403C281.151 248.358 281.47 248.344 282.037 248.353C282.739 248.371 282.883 248.385 283.365 248.511ZM312.819 248.484C314.21 248.848 315.29 249.685 316.055 250.985C316.487 251.723 316.815 252.961 316.82 253.856V254.14H312.19H307.559L307.582 254.441C307.613 254.887 307.766 255.602 307.897 255.94C308.383 257.181 309.377 258.104 310.52 258.383C311.717 258.68 313.112 258.347 314.106 257.532C314.372 257.316 314.768 256.817 315.087 256.291C315.231 256.061 315.353 255.863 315.362 255.859C315.384 255.832 316.46 256.452 316.46 256.488C316.46 256.556 316.181 257.082 315.974 257.402C315.213 258.59 314.165 259.35 312.846 259.679C312.32 259.809 311.191 259.845 310.601 259.746C309.148 259.508 308.077 258.81 307.24 257.555C306.533 256.506 306.201 255.391 306.201 254.095C306.201 252.425 306.758 251.008 307.87 249.843C308.621 249.06 309.463 248.601 310.507 248.403C311.074 248.299 312.266 248.34 312.819 248.484ZM329.333 248.461C330.179 248.659 331.111 249.06 331.866 249.55L332.217 249.78L331.754 250.135C331.497 250.333 331.214 250.549 331.124 250.612L330.958 250.724L330.634 250.517C329.284 249.64 327.745 249.411 326.696 249.928C325.477 250.531 325.405 251.611 326.53 252.353C326.975 252.65 327.38 252.844 328.609 253.339C330.305 254.027 331.025 254.432 331.556 255.004C332.019 255.499 332.208 255.971 332.208 256.637C332.208 257.375 331.974 257.892 331.381 258.482C330.467 259.386 329.288 259.809 327.695 259.809C326.138 259.805 324.69 259.364 323.632 258.567C323.358 258.36 323.304 258.302 323.353 258.257C323.385 258.23 323.659 257.996 323.965 257.744L324.514 257.285L324.852 257.528C326.021 258.383 327.389 258.689 328.636 258.369C329.324 258.194 330.013 257.708 330.247 257.235C330.341 257.051 330.364 256.934 330.364 256.686C330.364 255.809 329.824 255.386 327.601 254.5C325.918 253.829 325.18 253.42 324.654 252.853C323.835 251.98 323.758 250.729 324.474 249.789C324.955 249.145 325.945 248.596 326.921 248.43C327.07 248.403 327.241 248.371 327.304 248.362C327.367 248.349 327.763 248.349 328.181 248.358C328.744 248.367 329.05 248.398 329.333 248.461ZM344.767 248.461C345.613 248.659 346.544 249.06 347.3 249.55L347.651 249.78L347.188 250.135C346.931 250.333 346.648 250.549 346.558 250.612L346.391 250.724L346.067 250.517C344.717 249.64 343.179 249.411 342.13 249.928C340.911 250.531 340.839 251.611 341.964 252.353C342.409 252.65 342.814 252.844 344.043 253.339C345.739 254.027 346.459 254.432 346.99 255.004C347.453 255.499 347.642 255.971 347.642 256.637C347.642 257.375 347.408 257.892 346.814 258.482C345.901 259.386 344.722 259.809 343.129 259.809C341.572 259.805 340.123 259.364 339.066 258.567C338.791 258.36 338.737 258.302 338.787 258.257C338.818 258.23 339.093 257.996 339.399 257.744L339.948 257.285L340.285 257.528C341.455 258.383 342.823 258.689 344.069 258.369C344.758 258.194 345.446 257.708 345.68 257.235C345.775 257.051 345.797 256.934 345.797 256.686C345.797 255.809 345.257 255.386 343.035 254.5C341.352 253.829 340.614 253.42 340.087 252.853C339.268 251.98 339.192 250.729 339.907 249.789C340.389 249.145 341.379 248.596 342.355 248.43C342.504 248.403 342.675 248.371 342.738 248.362C342.801 248.349 343.197 248.349 343.615 248.358C344.177 248.367 344.483 248.398 344.767 248.461ZM98.3171 254.072V259.539H97.5972H96.8773V254.072V248.605H97.5972H98.3171V254.072Z"
            fill="#181818"
          />
        </svg>
      </div>

      <AnimatePresence>
        {!submitted && (
          <motion.div
            initial={{ opacity: 0 }}
            animate={{ x: 0, opacity: 1 }}
            exit={{ x: "-100%", opacity: 0 }}
            transition={{ duration: 0.4 }}
            className="-mt-10"
          >
            <h1 className="text-xl md:text-2xl font-semibold text-gray-100 block w-full text-center my-10">
              Membership application
            </h1>
            <form
              onSubmit={handleSubmit}
              className="w-full rounded-md mb-10 bg-formBackground overflow-hidden shadow-md"
            >
              <div className="p-5 md:p-10">
                <div className="border-b border-gray-300 pb-5 mb-10">
                  <h3 className="font-medium text-base md:text-lg text-gray-200">
                    Personal Information
                  </h3>
                  {/* <h4 className="text-xs md:text-sm text-gray-400">
                    Lorem ipsum dolor sit amet consectetur.
                  </h4> */}
                </div>
                <div className="w-full">
                  <div className="grid grid-cols-1 md:grid-cols-2 gap-10 gap-y-5 mb-5">
                    <TextInput
                      onBlur={handleBlur}
                      label="First name"
                      placeholder="First name"
                      onChange={handleChange}
                      error={error.first_name}
                      value={form.first_name}
                    />
                    <TextInput
                      onBlur={handleBlur}
                      label="Last name"
                      placeholder="Last name"
                      onChange={handleChange}
                      error={error.last_name}
                      value={form.last_name}
                    />
                  </div>

                  <div className="w-full grid grid-cols-1 md:grid-cols-3 gap-10 gap-y-5 mb-5">
                    {/* gender */}
                    <div className="h-28">
                      <label
                        htmlFor="male"
                        className="block text-xs md:text-sm font-medium text-gray-300"
                      >
                        Gender
                      </label>
                      <div className="mt-1 flex items-center justify-start gap-5">
                        <div className="flex items-center h-5">
                          <input
                            id="male"
                            name="gender"
                            type="radio"
                            value="male"
                            checked
                            onChange={handleGender}
                            className="focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded-full"
                          />
                          <label
                            htmlFor="male"
                            className="ml-3 block text-sm font-medium text-gray-300"
                          >
                            Male
                          </label>
                        </div>
                        <div className="flex items-center h-5">
                          <input
                            id="female"
                            name="gender"
                            type="radio"
                            value="female"
                            onChange={handleGender}
                            className="focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded-full"
                          />
                          <label
                            htmlFor="female"
                            className="ml-3 block text-sm font-medium text-gray-300"
                          >
                            Female
                          </label>
                        </div>
                      </div>
                    </div>
                    {/* end of gender */}

                    <TextInput
                      onBlur={handleBlur}
                      label="Date of birth"
                      placeholder="Date of Birth"
                      type="date"
                      onChange={handleChange}
                      error={error.date_of_birth}
                      value={form.date_of_birth}
                    />

                    {/* nic */}
                    <TextInput
                      onBlur={handleBlur}
                      label="NIC"
                      placeholder="nic"
                      onChange={handleChange}
                      error={error.nic}
                      value={form.nic}
                    />
                  </div>

                  {/* address */}
                  <div className="w-full mb-5">
                    <TextInput
                      onBlur={handleBlur}
                      label="Address"
                      placeholder="Address"
                      onChange={handleChange}
                      error={error.address}
                      value={form.address}
                    />
                  </div>
                  <div className="col-span-2 grid grid-cols-1 md:grid-cols-3 gap-y-5 gap-5">
                    <div className="flex flex-col gap-2">
                      <label className="block text-xs md:text-sm font-medium text-gray-200">
                        Country
                      </label>
                      <Select handleCountry={(e) => handleCountry(e)} />
                    </div>
                    <TextInput
                      onBlur={handleBlur}
                      label="State"
                      placeholder="State"
                      onChange={handleChange}
                      error={error.state}
                      value={form.state}
                    />

                    <TextInput
                      onBlur={handleBlur}
                      label="City"
                      placeholder="City"
                      onChange={handleChange}
                      error={error.city}
                      value={form.city}
                    />

                    <TextInput
                      onBlur={handleBlur}
                      label="Postal Code"
                      placeholder="Postal Code"
                      onChange={handleChange}
                      error={error.postal_code}
                      value={form.postal_code}
                    />
                  </div>
                  {/* address */}
                </div>

                <div className="mt-10 border-b border-gray-300 pb-5 mb-10">
                  <h3 className="font-medium text-base md:text-lg text-gray-200">
                    Contact Information
                  </h3>
                  {/* <h4 className="text-xs md:text-sm text-gray-400">
                    Lorem ipsum dolor sit amet consectetur.
                  </h4> */}
                </div>

                <div className="w-full">
                  <div className="grid grid-cols-1 md:grid-cols-2 gap-10 gap-y-5 mb-5">
                    <TextInput
                      onBlur={handleBlur}
                      label="Email"
                      placeholder="Email"
                      onChange={handleChange}
                      error={error.email}
                      value={form.email}
                    />
                    <TextInput
                      onBlur={handleBlur}
                      label="Phone"
                      placeholder="Phone"
                      type="tel"
                      pattern="[0-9]{3}-[0-9]{2}-[0-9]{3}"
                      onChange={handleChange}
                      error={error.phone}
                      value={form.phone}
                    />
                  </div>
                </div>

                <div className="mt-10 border-b border-gray-300 pb-5 mb-10">
                  <h3 className="font-medium text-base md:text-lg text-gray-200">
                    Other Information
                  </h3>
                  {/* <h4 className="text-xs md:text-sm text-gray-400">
                    Lorem ipsum dolor sit amet consectetur.
                  </h4> */}
                </div>

                <div className="w-full">
                  <div className="grid grid-cols-1 md:grid-cols-2 gap-10 gap-y-5 mb-5">
                    <TextInput
                      onBlur={handleBlur}
                      label="Education"
                      placeholder="Education"
                      onChange={handleChange}
                      error={error.education}
                      value={form.education}
                    />
                    <TextInput
                      onBlur={handleBlur}
                      label="Occupation"
                      placeholder="Occupation"
                      pattern="[0-9]{3}-[0-9]{2}-[0-9]{3}"
                      onChange={handleChange}
                      error={error.occupation}
                      value={form.occupation}
                    />
                    <TextInput
                      onBlur={handleBlur}
                      label="interests"
                      placeholder="interests"
                      pattern="[0-9]{3}-[0-9]{2}-[0-9]{3}"
                      onChange={handleChange}
                      error={error.interests}
                      value={form.interests}
                    />
                    <TextInput
                      onBlur={handleBlur}
                      label="Area of specialization"
                      placeholder="Area of specialization"
                      pattern="[0-9]{3}-[0-9]{2}-[0-9]{3}"
                      onChange={handleChange}
                      error={error.area_of_specialization}
                      value={form.area_of_specialization}
                    />
                  </div>
                </div>

                {/* method of commutnication */}
                <div className="h-28">
                  <label
                    htmlFor="male"
                    className="block text-xs md:text-sm font-medium text-gray-300"
                  >
                    Prefered method of communication
                  </label>
                  <div className="mt-1 flex items-center justify-start gap-5">
                    <div className="flex items-center h-5">
                      <input
                        id="phoneOpt"
                        name="moc"
                        type="radio"
                        value="phone"
                        checked
                        onChange={handleMethodOfCommunication}
                        className="focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded-full"
                      />
                      <label
                        htmlFor="phoneOpt"
                        className="ml-3 block text-sm font-medium text-gray-300"
                      >
                        Phone
                      </label>
                    </div>
                    <div className="flex items-center h-5">
                      <input
                        id="whatsapp"
                        name="moc"
                        type="radio"
                        value="whatsapp"
                        onChange={handleMethodOfCommunication}
                        className="focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded-full"
                      />
                      <label
                        htmlFor="whatsapp"
                        className="ml-3 block text-sm font-medium text-gray-300"
                      >
                        Whatsapp
                      </label>
                    </div>
                    <div className="flex items-center h-5">
                      <input
                        id="emailOpt"
                        name="moc"
                        type="radio"
                        value="email"
                        onChange={handleMethodOfCommunication}
                        className="focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded-full"
                      />
                      <label
                        htmlFor="emailOpt"
                        className="ml-3 block text-sm font-medium text-gray-300"
                      >
                        Email
                      </label>
                    </div>
                  </div>
                </div>
                {/* end of method of comunication */}

                {/* add to whatsapp group */}
                <div className="mb-20 flex items-center justify-start gap-2">
                  <input
                    type="checkbox"
                    name="addToGroup"
                    id="addToGroup"
                    onChange={handleAddToGroup}
                    checked={
                      form.add_to_whatsapp_group === "yes" ? true : false
                    }
                  />
                  <label
                    htmlFor="addToGroup"
                    className="block text-xs md:text-sm font-medium text-gray-300"
                  >
                    Add to Whatsapp group
                  </label>
                </div>
                {/* end of add to whatsapp group */}
              </div>

              <div className="w-full flex justify-end bg-formBackgroundSecondary p-3 px-5 md:px-10">
                <button
                  type="submit"
                  className="px-3 py-2 rounded-md bg-gray-100 text-gray-800 text-sm font-medium text-center focus:outline-none hover:bg-gray-200 focus:bg-gray-200"
                >
                  Register
                </button>
              </div>
            </form>
          </motion.div>
        )}
      </AnimatePresence>

      <AnimatePresence>
        {submitted && (
          <motion.div
            initial={{ x: "100%", opacity: 0 }}
            animate={{ x: 0, opacity: 1 }}
            exit={{ x: "-100%", opacity: 0 }}
            className="w-full min-h-full flex items-center justify-center"
          >
            <div className="rounded-md p-5 flex flex-col items-center justify-center">
              <lottie-player
                src="https://assets6.lottiefiles.com/packages/lf20_3rlzwL.json"
                background="transparent"
                speed="1"
                style={{ width: "300px", height: "300px" }}
                loop
                autoplay
              ></lottie-player>

              <h2 className="text-sm md:text-lg text-gray-300 font-medium block w-full text-center">
                you will receive a confirmation email
              </h2>

              <button
                onClick={() => setSubmitted(false)}
                className="mt-5 px-3 py-2 rounded-md bg-gray-100 hover:bg-gray-200 font-medium text-gray-800 text-sm text-center"
              >
                Return to home
              </button>
            </div>
          </motion.div>
        )}
      </AnimatePresence>
    </section>
  );
};

export default Register;
